parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"zcNd":[function(require,module,exports) {
"use strict";var t=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,r++)n[r]=a[s];return n};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Canvas=void 0;var e=function(){function e(t){this.canvas=document.getElementById(t),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.ctx=this.canvas.getContext("2d")}return Object.defineProperty(e.prototype,"center",{get:function(){return[this.canvas.width/2,this.canvas.height/2]},enumerable:!1,configurable:!0}),e.prototype.animate=function(t){var e=performance.now();requestAnimationFrame(function i(){var n=performance.now(),r=n-e;e=n;var a=!1;t(r,function(){return a=!0}),a||requestAnimationFrame(i)})},e.prototype.drawCircle=function(e,i){var n;this.ctx.fillStyle="white",this.ctx.strokeStyle="black",this.ctx.lineWidth=2,this.ctx.beginPath(),(n=this.ctx).arc.apply(n,t(e,[i,0,2*Math.PI])),this.ctx.fill(),this.ctx.stroke()},e.prototype.drawText=function(e,i){var n;this.ctx.fillStyle="black",this.ctx.font="20px sans-serif",this.ctx.textAlign="center",this.ctx.textBaseline="middle",(n=this.ctx).fillText.apply(n,t([i],e))},e.prototype.drawLine=function(t,e){var i,n;this.ctx.strokeStyle="black",this.ctx.lineWidth=3,this.ctx.beginPath(),(i=this.ctx).moveTo.apply(i,t),(n=this.ctx).lineTo.apply(n,e),this.ctx.stroke()},e.prototype.drawParallelLines=function(t,e,i){var n,r;void 0===i&&(i=2),this.ctx.beginPath(),(n=this.ctx).moveTo.apply(n,t),(r=this.ctx).lineTo.apply(r,e);for(var a=3*(2*i-1),s=!0;a>0;a-=6,s=!s)this.ctx.strokeStyle=s?"black":"white",this.ctx.lineWidth=a,this.ctx.stroke()},e}();exports.Canvas=e;
},{}],"uIOH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.elementInfo=exports.shellCapacities=exports.atomicNumbers=exports.elements=void 0,exports.elements=["H","He","Li","Be","B","C","N","O","F","Ne","Na","Mg","Al","Si","P","S","Cl","Ar","K","Ca"],exports.atomicNumbers={};for(var e=0;e<exports.elements.length;e++){var t=exports.elements[e];exports.atomicNumbers[t]=e+1}exports.shellCapacities=[2,8,8,18,18],exports.elementInfo={};for(var o=0,r=exports.elements;o<r.length;o++){t=r[o];var s=exports.atomicNumbers[t],i=[],l=void 0,n=void 0,p=void 0,a=void 0;for(p=0,a=s;a>0;p++){if(!(l=exports.shellCapacities[p]))throw new Error("Element "+t+" too big");n=Math.min(a,l),i.push(n),a-=n}var m=n,x=m>l/2?l-m:m;exports.elementInfo[t]={period:p+1,electronConfiguration:i,valenceElectrons:m,requiredBonds:x}}
},{}],"zrKI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Atom=void 0;var e=require("./periodic-table"),t=function(){function t(e,t){this.symbol=e,this.position=t}return t.prototype.draw=function(e){e.drawCircle(this.position,20),e.drawText(this.position,this.symbol)},Object.defineProperty(t.prototype,"atomicNumber",{get:function(){return e.atomicNumbers[this.symbol]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredBonds",{get:function(){return e.elementInfo[this.symbol].requiredBonds},enumerable:!1,configurable:!0}),t}();exports.Atom=t;
},{"./periodic-table":"uIOH"}],"hXCS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Bond=void 0;var t=function(){function t(t,o,i){this.atom1=t,this.atom2=o,this.count=i}return t.prototype.draw=function(t){t.drawParallelLines(this.atom1.position,this.atom2.position,this.count)},t}();exports.Bond=t;
},{}],"eDgl":[function(require,module,exports) {
"use strict";function t(t,r){var e=r[0]-t[0],o=r[1]-t[1];return Math.sqrt(e*e+o*o)}function r(t,r){var e=r[0]-t[0],o=r[1]-t[1];return e>0&&e>Math.abs(o)}function e(t,r){var e=r[0]-t[0],o=r[1]-t[1];return e<0&&-e>Math.abs(o)}function o(t,r){var e=r[0]-t[0],o=r[1]-t[1];return o>0&&o>Math.abs(e)}function s(t,r){var e=r[0]-t[0],o=r[1]-t[1];return o<0&&-o>Math.abs(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.above=exports.below=exports.leftOf=exports.rightOf=exports.dist=void 0,exports.dist=t,exports.rightOf=r,exports.leftOf=e,exports.below=o,exports.above=s;
},{}],"wktd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Molecule=void 0;var o=require("./atom"),t=require("./bond"),n=require("./math"),r=100,e=70,i=function(){function i(){this.atoms=[],this.bonds=[],this.bondMap=new Map}return i.fromMolecularFormula=function(t,n){for(var r=i.parseFormula(t),e=new i,s=0,u=r;s<u.length;s++)for(var a=u[s],d=a[0],p=a[1],f=0;f<p;f++)e.addAtom(new o.Atom(d,n));return e},i.parseFormula=function(o){for(var t=[],n=0;n<o.length;){for(var r=o[n++],e="";n<o.length&&s(o[n]);)r+=o[n++];for(;n<o.length&&u(o[n]);)e+=o[n++];t.push([r,+e||1])}return t},i.prototype.log=function(){console.group("ATOMS:"),console.table(this.atoms),console.groupEnd(),console.group("BONDS:"),console.table(this.bonds),console.groupEnd()},i.prototype.draw=function(o){for(var t=0,n=this.bonds;t<n.length;t++){n[t].draw(o)}for(var r=0,e=this.atoms;r<e.length;r++){e[r].draw(o)}},i.prototype.addAtom=function(o){this.atoms.push(o),this.bondMap.set(o,[])},i.prototype.bond=function(o,r,i){void 0===i&&(i=1);var s=this.findBond(o,r);if(s)s.count+=i;else{n.dist(o.position,r.position)<e&&(r.position=this.getNextBondingPosition(o));var u=new t.Bond(o,r,i);this.bonds.push(u),this.bondMap.get(o).push(u),this.bondMap.get(r).push(u)}},i.prototype.findBond=function(o,t){return this.bondMap.get(o).find(function(o){return o.atom1===t||o.atom2===t})},i.prototype.getNextBondingPosition=function(o){for(var t=[],e=0,i=this.bondMap.get(o);e<i.length;e++){var s=i[e];s.atom1!==o&&t.push(s.atom1),s.atom2!==o&&t.push(s.atom2)}var u=o.position,a=u[0],d=u[1];if(!t.some(function(t){return n.rightOf(o.position,t.position)}))return[a+r,d];if(!t.some(function(t){return n.leftOf(o.position,t.position)}))return[a-r,d];if(!t.some(function(t){return n.below(o.position,t.position)}))return[a,d+r];if(!t.some(function(t){return n.above(o.position,t.position)}))return[a,d-r];throw new Error("Trying to over-bond atom")},i.prototype.autoBond=function(){this.atoms.sort(function(o,t){return t.atomicNumber-o.atomicNumber}),this.atoms.sort(function(o,t){return t.requiredBonds-o.requiredBonds});for(var o=this.atoms[0],t=this.atoms.slice(1),n=0,r=t;n<r.length;n++){var e=r[n];this.bond(o,e)}for(var i=0;!this.hasRequiredBonds;i++){if(i>100)throw new Error("Auto bonding taking too long");for(var s=0,u=t;s<u.length;s++){if((e=u[s]).requiredBonds>this.totalBonds(e)){this.bond(o,e);break}}}},Object.defineProperty(i.prototype,"hasRequiredBonds",{get:function(){for(var o=0,t=0,n=this.atoms;t<n.length;t++){var r=n[t],e=this.totalBonds(r);e!==r.requiredBonds&&(e>r.requiredBonds&&console.warn(r.symbol+" atom is over-bonded"),o+=r.requiredBonds-e)}return 0===o},enumerable:!1,configurable:!0}),i.prototype.totalBonds=function(o){return this.bondMap.get(o).reduce(function(o,t){return o+t.count},0)},i}();function s(o){return o===o.toLowerCase()&&o!==o.toUpperCase()}function u(o){return"1234567890".includes(o)}exports.Molecule=i;
},{"./atom":"zrKI","./bond":"hXCS","./math":"eDgl"}],"EVxB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./canvas"),r=require("./molecule"),a=new e.Canvas("main-canvas"),l=r.Molecule.fromMolecularFormula("SO2",a.center);try{l.autoBond()}finally{l.log(),l.draw(a)}
},{"./canvas":"zcNd","./molecule":"wktd"}]},{},["EVxB"], null)
//# sourceMappingURL=/app.4899e136.js.map